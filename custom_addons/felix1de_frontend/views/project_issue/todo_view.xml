<?xml version="1.0" encoding="utf-8"?>
<openerp>
  <data>

<!--search view-->  
  <record id="view_filter_todo_workflow" model="ir.ui.view">
  <field name="name">To-do workflow Filter</field>
  <field name="model">todo.workflow</field>
  <field name="arch" type="xml">
 
    <search>
        <field name="description"/>
        
        <filter string="Nicht erledigt" domain="[('is_done','=',False)]"/>
        <filter string="Erledigt" domain="[('is_done','!=',False)]"/>
        <filter name="filter_my_tasks" string="Meine Aufgaben" domain="[('user_id','in',[uid,False])]" />
        <filter name="filter_not_assigned" string="Nicht zugeordnete Aufgaben" domain="[('user_id','=',False)]" />
    </search>
 
  </field>
</record>

<!--list view -->
  <record id="view_tree_todo_workflow" model="ir.ui.view">
  <field name="name">To-do workflow Tree</field>
  <field name="model">todo.workflow</field>
  <field name="arch" type="xml">
  
    <tree colors="gray:is_done==True">
      <field name="user_id"/>
      <field name="description"/>
      <field name="is_done"/>
    <field name="date_deadline"/>

    </tree>
  
  </field>
</record>
  
  
  
  
<!--form view-->  
  
  <record id="view_form_todo_workflow" model="ir.ui.view">
  <field name="name">To-do workflow Form</field>
  <field name="model">todo.workflow</field>
  <field name="arch" type="xml">
 

     <form>
       <header>
         <button name="do_toggle_done_own" type="object" string="Erledigt" class="oe_highlight" />
         <button name="do_clear_done" type="object" string="Erledigte Ausblenden" />
       </header>
     
       <sheet>
           
       <group name="group_top">
           
        <group name="group_left">
            <field name="description"/>
            <field name="user_id"/>
        </group>
            
        <group name="group_right">
            <field name="date_deadline"/>
            <field name="is_done"/>
            <field name="active" readonly="1" />
            <div class="oe_chatter">
            
        <field name="message_follower_ids" widget="mail_followers" help="Follow this project to automatically track the events associated to tasks and issues of this project." groups="base.group_user"/>
            
        <field name="message_ids" widget="mail_thread"/>
            
        </div>
        </group>
        
        </group>
        
        <notebook>
         <page>

         </page>
         </notebook>
        </sheet>

 
    </form>

  </field>
</record>




























    <!-- Action to open To-do workflow list -->

<record id="action_todo_form_view" model="ir.actions.act_window">     
            <field name="name">Tickets</field>      
            <field name="res_model">project.issue</field>      
            <field name="view_type">form</field>       
            <field name="view_mode">tree,form,kanban</field>      
            <field name="view_id" ref="project_issue.project_issue_tree_view"/>        
            <field name="domain" eval=""/>     
            <field name="context">{"search_default_user_id":'', "search_default_draft":'', "search_default_todo":'', "portal":'True'}</field>      
            <field name="search_view_id" ref="project_issue.view_project_issue_filter"/>       
            <field name="target">current</field>       
            <field name="help" type="html">        
              <p class="oe_view_nocontent_create">     
                Click to create an issue.      
              </p><p>      
                You can track your issues from this menu and the action we     
                will take.     
              </p>     
            </field>       
        </record>

    <record id="action_todo_view_tree" model="ir.actions.act_window.view">
       <field name="sequence" eval="1"/>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="project_issue.project_issue_tree_view"/>
        <field name="act_window_id" ref="action_todo_form_view"/>
    </record>
    <record id="action_todo_view_form" model="ir.actions.act_window.view">
        <field eval="2" name="sequence"/>
        <field name="view_mode">form</field>
        <field name="view_id" ref="project_issue.project_issue_form_view"/>
        <field name="act_window_id" ref="action_todo_form_view"/>
    </record>
    <record id="action_todo_view_kanban" model="ir.actions.act_window.view">
        <field eval="3" name="sequence"/>
        <field name="view_mode">kanban</field>
        <field name="view_id" ref="project_issue.project_issue_kanban_view"/>
        <field name="act_window_id" ref="action_todo_form_view"/>
    </record>
    
    




    <!-- Menu item to open To-do workflow list -->
    <menuitem id="menu_todo_workflow"
      name="To-Do Workflow"
      parent="start_sub3_menu"
      sequence="20"
      action="action_todo_form_view" />

  </data>
</openerp>